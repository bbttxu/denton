.twelve.columns
  - @shows.keys.each do |date|
    %hr
    .row.shows
      .three.columns.divider.mobile-four
        %h5= Time.at(date + 7 * 60* 60).strftime( "%A, %B %d" )
      .nine.columns.shows.mobile-four
        - ul_class = "one-up"
        - ul_class = "three-up" if @shows[date].count >= 3
        - ul_class = "two-up" if @shows[date].count % 2 == 0
        %ul.shows.block-grid( class = ul_class )
          - @shows[date].each_with_index do |show,index|
            - band_names = show.artists.collect{|band| band.name.gsub(/\s/, " ")}
            %li.show.mobile-four.panel{ :class => "#{(index % 2 == 1 ? :odd : :even )}" }
              .meta.row
                .nine.columns
                  %h6
                    %span.slabtext
                      - hype = []
                      - hype << "#{do_time show.starts_at}"
                      - hype << "@#{show.venue.name}"
                      - hype << "#{pricify show.price}"
                      = hype.reject{|x|x == ""}.join(" | ")
              .artists
                - source = ( show.source == nil ? "/shows/#{show.id}" : show.source ) 
                %a{ :href => source}
                  %h3
                    - split_on_important_stuff(band_names.flatten.reverse).each do |text|
                      %span.slabtext= text
                      
